<!DOCTYPE html>
<meta charset=utf8>
<link rel="stylesheet" href="index.css">
<script src="index.js"></script>
<title>DOM101</title>
<h1>DOM101</h1>
<article>


  <section>
    <h2>The Inspector: Inside live web pages</h2>
    <p>We can inspect pages once they're loaded into the browser.</p>
    <p class=do>Open up a website that uses headings (most sites do) site, e.g. <code>port.ac.uk</code></p>
    <p class=do>Open the browser inspector.</p>
    <p class=do>Look at the <em>Elements</em> tab.  Clicking on the HTML will highlight that element within the page.
    <p>See also: the selector tool.</p>
  </section>


  <section>
    <h2>Scripting in The Browser</h2>
    <p>What if we want run scripts in the page?  We can do that.  Here are some examples&hellip;</p>



    <section>
      <h3>Selecting Elements</h3>
      <section class=do>
        <p>Within the browser inspector open <em>the console</em> and type (or copy from here and paste):</p>
        <pre>
let result = [];
let headings = document.querySelectorAll("h1, h2, h3");
for (const h of headings) {
  result.push( h.textContent.trim() );
}</pre>
        <p>The <code>result</code> array can be inspected, or we can write a loop to log it to the console.</p>
      </section>
    </section>
    
    <section>
      <h3>Modifying Elements</h3>
 
      <section class=do>
        <p>We can modify elements within the page, for example, in the same page try this:
        <pre>
let headings = document.querySelectorAll("h1, h2, h3");
for (const h of headings) {
  h.textContent = "FOR EXAMPLE";
}</pre>
        <p>All the headings in the page are now modified.  Of course if you reload it the changes are gone - you've not published the change - it's local to your browser.
      </section>
    </section>
    <section>
      <h2>Local Examples&hellip;</h2>
      <p>Modifying existing pages is good for initial examples, but what about our own pages?</p>

      <section>
        <h3>Selecting and Modifying Elements</h3>
        <p><a href=select/index.html>Select Example</a></p>
        <p class=do>Select an element: Use document.querySelector to get a handle on content that is marked up as traditional HTML.
        <p class=do>Change an element: Given a handle on an element, change it's attributes, and it's content.
      </section>

      <section>
        <h3>Creating Elements</h3>
        <p><a href=create/index.html>Create Example</a></p>
        <p class=do>Use <code>document.createElement</code> to create a new element.
        <p class=do>Use the <code>appendChild</code> method on an existing element to attach your new element to the document. 
          Demonstrate how the element exists before it is added to the document.
        <p class=do>Add text</a> to an elements using its <code>textContent</code> method.</p>
        <p class=do>Add dynamic text</a>, for example the time that an element is added.</p>
        <p class=do>Create buttons, and when those button are clicked, do something.
      </section>
    </section>
    <section>
      <h2>The document Object Model (DOM)</h2>
      <p>These functions are all part of the Document Object Model (DOM).  The DOM is a W3C recommendation which all browser vendors adhere to.  When a web page is loaded into a browser, the DOM provides a representation of the page's content so programs can access and change things.
    </section>

    <section>
      <h2>Debug breakpoints to the browser.</h2>
      <p>Browser also let you slow down your code, step through it line by line, <em>and</em> examine and change many parts of the browser's variables and configuration whilst execution is paused.  Use the <code>sources</code> tab in the browser inspector.
    </section>
  </section>


  <section>
  <h2>Game</h2>
  <p>To demonstrate what we've discussed, let's build a simple game of rock, paper, scissors
  <section>
  <p class=do>Create an game.html page.
  <p class=do>Create a <code>game.js</code> file and add it to the page.
  <section class=do>
    <p>Divide the page into zones we'll call input and output.  The contents of <code>game.html</code> now look like this:
<pre>
&lt;!DOCTYPE html&gt;
&lt;title&gt;Rock, Paper, Scissors&lt;/title&gt;
&lt;div id=input&gt;&lt;/div&gt;
&lt;div id=output&gt;&lt;/div&gt;
&lt;script src=game.js&gt;&lt;/script&gt;
</pre>
  </section>
  <p class=do>In <code>game.html</code> add three buttons to the input zone: one each for rock, paper and scissors
  <p class=do>To keep things manageable wrap all the code so far in a function called <code>init</code> and add <code>init();</code> to the end of the file so that this new function is executed.
  <p class=do>Add a stylesheet so that the buttons are big enough to play with.
  </ol>
  <section>
    <h1>Reacting</h1>
    <p>Add code so that we react when any of those buttons is pressed.
    <p class=do>Create a <code>play</code> function that accepts one parameter called <code>event</code>
    <p class=do>In the <code>init</code> function, get a handle on all the buttons, then loop over this collection connecting each button to a function called 'play' that will run whenever the button is clicked.  We do this using addEventListener.
    <p class=do>In play, generate a random selection of rock, paper or scissors for the computer
    <p class=do>Generate a statement to say who won and put this in the <code>output</code> zone.
    </ol>
    <p>Finally, invite player to play again; maybe
    </ol>
  </section>
  <section class=do>
    <h2>The <code>load</code> event</h2>
    <p>Wait for the "load" event.  Explain about putting script in the head not at the end.
  </section>
</article>